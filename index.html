<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/pickleball.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pickleball VNE M·ªü r·ªông</title>
    <!-- Google Fonts: Sports/Fitness Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@400;500;600;700&family=Barlow:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="app">
      <header>
        <div class="header-brand">
          <svg class="header-icon" viewBox="0 0 100 100" fill="none" stroke="currentColor" stroke-width="3">
            <circle cx="50" cy="50" r="45" fill="rgba(255,255,255,0.15)"/>
            <circle cx="35" cy="35" r="6"/>
            <circle cx="65" cy="35" r="6"/>
            <circle cx="50" cy="55" r="6"/>
            <circle cx="30" cy="60" r="5"/>
            <circle cx="70" cy="60" r="5"/>
            <circle cx="50" cy="30" r="5"/>
            <circle cx="40" cy="70" r="5"/>
            <circle cx="60" cy="70" r="5"/>
          </svg>
          <h1>Pickleball VNE M·ªü r·ªông</h1>
        </div>
        <p class="header-tagline">H·ªá th·ªëng x·∫øp h·∫°ng v√† qu·∫£n l√Ω gi·∫£i ƒë·∫•u Pickleball</p>
        <div class="admin-controls admin-only">
          <button id="backupData" class="backup-btn">
            <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
              <polyline points="17 21 17 13 7 13 7 21"/>
              <polyline points="7 3 7 8 15 8"/>
            </svg>
            Sao l∆∞u
          </button>
          <button id="restoreData" class="restore-btn">
            <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
              <polyline points="7 10 12 15 17 10"/>
              <line x1="12" y1="15" x2="12" y2="3"/>
            </svg>
            Kh√¥i ph·ª•c
          </button>
          <button id="clearAllData" class="danger-btn">
            <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="3 6 5 6 21 6"/>
              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
            </svg>
            X√≥a t·∫•t c·∫£
          </button>
        </div>
      </header>

      <main>
        <div class="tabs">
          <button class="tab-button admin-only" data-tab="players">
            <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
              <circle cx="9" cy="7" r="4"/>
              <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
            </svg>
            <span>Ng∆∞·ªùi ch∆°i</span>
          </button>
          <button class="tab-button editor-only" data-tab="matches">
            <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
              <line x1="16" y1="2" x2="16" y2="6"/>
              <line x1="8" y1="2" x2="8" y2="6"/>
              <line x1="3" y1="10" x2="21" y2="10"/>
            </svg>
            <span>Tr·∫≠n ƒë·∫•u</span>
          </button>
          <button class="tab-button admin-only" data-tab="seasons">
            <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="8" r="7"/>
              <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/>
            </svg>
            <span>M√πa gi·∫£i</span>
          </button>
          <button class="tab-button admin-only" data-tab="users">
            <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
              <circle cx="12" cy="7" r="4"/>
            </svg>
            <span>T√†i kho·∫£n</span>
          </button>
          <button class="tab-button active" data-tab="rankings">
            <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="20" x2="18" y2="10"/>
              <line x1="12" y1="20" x2="12" y2="4"/>
              <line x1="6" y1="20" x2="6" y2="14"/>
            </svg>
            <span>X·∫øp h·∫°ng</span>
          </button>
        </div>

        <!-- Players Tab -->
        <div class="tab-content" id="players-tab">
          <div class="section admin-only">
            <h2>Th√™m ng∆∞·ªùi ch∆°i m·ªõi</h2>
            <div class="form-group">
              <input type="text" id="playerName" placeholder="T√™n ng∆∞·ªùi ch∆°i" />
              <button id="addPlayer">Th√™m</button>
            </div>
          </div>

          <div class="section">
            <div class="section-header">
              <h2>Danh s√°ch ng∆∞·ªùi ch∆°i</h2>
            </div>
            <div id="playersList" class="players-grid"></div>
          </div>
        </div>

        <!-- Matches Tab -->
        <div class="tab-content" id="matches-tab">
          <div class="section">
            <div class="section-header">
              <h2>Ghi nh·∫≠n k·∫øt qu·∫£ tr·∫≠n ƒë·∫•u</h2>
            </div>
            <div class="match-form">
              <div class="form-row">
                <div class="form-group">
                  <label for="matchDate">Ng√†y ƒë√°nh:</label>
                  <input type="date" id="matchDate" required>
                </div>
                <div class="form-group">
                  <label for="matchSeason">M√πa gi·∫£i:</label>
                  <select id="matchSeason" required>
                    <option value="">Ch·ªçn m√πa gi·∫£i</option>
                  </select>
                </div>
              </div>

              <div class="form-row match-type-row">
                <div class="form-group">
                  <label>Lo·∫°i tr·∫≠n ƒë·∫•u:</label>
                  <div class="match-type-toggle">
                    <button type="button" id="matchTypeSolo" class="match-type-btn">
                      <svg class="match-type-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="7" r="4"/>
                        <path d="M5.5 21v-2a6.5 6.5 0 0 1 13 0v2"/>
                      </svg>
                      ƒê∆°n (1v1)
                    </button>
                    <button type="button" id="matchTypeDuo" class="match-type-btn active">
                      <svg class="match-type-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="9" cy="7" r="3"/>
                        <circle cx="15" cy="7" r="3"/>
                        <path d="M3 21v-2a4 4 0 0 1 4-4h2"/>
                        <path d="M15 15h2a4 4 0 0 1 4 4v2"/>
                      </svg>
                      ƒê√¥i (2v2)
                    </button>
                  </div>
                </div>
              </div>
              
              <div class="teams-container">
                <div class="team-section">
                  <h3 class="team-title">ƒê·ªôi 1</h3>
                  <div class="team-players">
                    <select id="player1">
                      <option value="">Ch·ªçn ng∆∞·ªùi ch∆°i 1</option>
                    </select>
                    <select id="player2" class="player2-group">
                      <option value="">Ch·ªçn ng∆∞·ªùi ch∆°i 2</option>
                    </select>
                  </div>
                  <div class="team-score">
                    <label>ƒêi·ªÉm:</label>
                    <input type="number" id="team1Score" min="0" placeholder="0" required>
                  </div>
                </div>
                
                <div class="vs">VS</div>
                
                <div class="team-section">
                  <h3 class="team-title">ƒê·ªôi 2</h3>
                  <div class="team-players">
                    <select id="player3">
                      <option value="">Ch·ªçn ng∆∞·ªùi ch∆°i 1</option>
                    </select>
                    <select id="player4" class="player2-group">
                      <option value="">Ch·ªçn ng∆∞·ªùi ch∆°i 2</option>
                    </select>
                  </div>
                  <div class="team-score">
                    <label>ƒêi·ªÉm:</label>
                    <input type="number" id="team2Score" min="0" placeholder="0" required>
                  </div>
                </div>
              </div>

              <div class="winner-section">
                <div class="auto-winner">
                  <span id="winnerDisplay">Nh·∫≠p ƒëi·ªÉm s·ªë ƒë·ªÉ t·ª± ƒë·ªông x√°c ƒë·ªãnh ƒë·ªôi th·∫Øng</span>
                </div>
                <div class="manual-winner hidden">
                  <label>Ch·ªçn ƒë·ªôi th·∫Øng th·ªß c√¥ng:</label>
                  <select id="winningTeam">
                    <option value="">Ch·ªçn ƒë·ªôi th·∫Øng</option>
                    <option value="1">ƒê·ªôi 1</option>
                    <option value="2">ƒê·ªôi 2</option>
                  </select>
                  <button type="button" id="useAutoWinner" class="small-btn">D√πng t·ª± ƒë·ªông</button>
                </div>
                <button type="button" id="useManualWinner" class="small-btn">Ch·ªçn th·ªß c√¥ng</button>
              </div>

              <button id="recordMatch" class="record-btn">
                <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                  <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                </svg>
                Ghi nh·∫≠n k·∫øt qu·∫£
              </button>
            </div>
          </div>
        </div>

        <!-- Seasons Tab -->
        <div class="tab-content" id="seasons-tab">
          <div class="section admin-only">
            <div class="section-header">
              <h2>Qu·∫£n l√Ω m√πa gi·∫£i</h2>
              <button id="addSeason" class="add-btn">
                <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="12" y1="5" x2="12" y2="19"/>
                  <line x1="5" y1="12" x2="19" y2="12"/>
                </svg>
                T·∫°o m√πa gi·∫£i
              </button>
            </div>
            <div id="seasonsList" class="seasons-grid"></div>
          </div>
        </div>

        <!-- Users Tab -->
        <div class="tab-content" id="users-tab">
          <div class="section admin-only">
            <div class="section-header">
              <h2>Qu·∫£n l√Ω t√†i kho·∫£n</h2>
              <button id="addUser" class="add-btn">
                <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                  <circle cx="8.5" cy="7" r="4"/>
                  <line x1="20" y1="8" x2="20" y2="14"/>
                  <line x1="17" y1="11" x2="23" y2="11"/>
                </svg>
                Th√™m t√†i kho·∫£n
              </button>
            </div>
            <p class="section-description">Qu·∫£n l√Ω c√°c t√†i kho·∫£n admin v√† editor c√≥ quy·ªÅn truy c·∫≠p h·ªá th·ªëng.</p>
            <div id="usersList" class="users-grid"></div>
          </div>
        </div>

        <!-- Rankings Tab -->
        <div class="tab-content active" id="rankings-tab">
          <div class="section">
            <div class="section-header">
              <h2>B·∫£ng x·∫øp h·∫°ng</h2>
            </div>
            
            <!-- View Mode Selection -->
            <div class="view-mode-section">
              <div class="view-mode-header">
                <div class="view-mode-buttons">
                  <button id="viewModeDaily" class="view-mode-btn active">
                    <svg class="view-mode-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                      <line x1="16" y1="2" x2="16" y2="6"/>
                      <line x1="8" y1="2" x2="8" y2="6"/>
                      <line x1="3" y1="10" x2="21" y2="10"/>
                    </svg>
                    Theo ng√†y
                  </button>
                  <button id="viewModeSeason" class="view-mode-btn">
                    <svg class="view-mode-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="8" r="7"/>
                      <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/>
                    </svg>
                    Theo m√πa
                  </button>
                  <button id="viewModeLifetime" class="view-mode-btn">
                    <svg class="view-mode-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <polyline points="12 6 12 12 16 14"/>
                    </svg>
                    T·ªïng
                  </button>
                </div>
                <button id="exportRankings" class="export-btn">
                  <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="7 10 12 15 17 10"/>
                    <line x1="12" y1="15" x2="12" y2="3"/>
                  </svg>
                  Xu·∫•t Excel
                </button>
              </div>
              
              <div class="view-controls">
                <div id="dateSelectContainer" class="control-group">
                  <label for="dateSelector">Ch·ªçn ng√†y ƒë√°nh:</label>
                  <select id="dateSelector"></select>
                </div>
                
                <div id="seasonSelectContainer" class="control-group hidden">
                  <label for="seasonSelector">Ch·ªçn m√πa gi·∫£i:</label>
                  <select id="seasonSelector"></select>
                </div>
              </div>
            </div>
            
            <div class="current-view">
              <h3 id="currentViewMode">B·∫£ng x·∫øp h·∫°ng theo ng√†y ƒë√°nh g·∫ßn nh·∫•t</h3>
            </div>

            <div class="rankings-container">
              <table id="rankingsTable" class="rankings-table">
                <thead>
                  <tr>
                    <th>H·∫°ng</th>
                    <th>T√™n</th>
                    <th>Th·∫Øng</th>
                    <th>Thua</th>
                    <th>Hi·ªáu s·ªë</th>
                    <th>T·ªïng tr·∫≠n</th>
                    <th>ƒêi·ªÉm</th>
                    <th>T·ª∑ l·ªá th·∫Øng</th>
                    <th>Ti·ªÅn thua</th>
                    <th>Phong ƒë·ªô</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
            
            <!-- Matches for current view -->
            <div class="matches-for-view">
              <h3>K·∫øt qu·∫£ c√°c tr·∫≠n trong ng√†y/m√πa gi·∫£i n√†y</h3>
              <div id="matchHistory" class="match-history"></div>
            </div>
          </div>
        </div>
      </main>

      <!-- Guest info box -->
      <div class="guest-info">
        <h3>üîç Ch·∫ø ƒë·ªô xem</h3>
        <p>B·∫°n ƒëang ·ªü ch·∫ø ƒë·ªô xem. C√≥ th·ªÉ xem b·∫£ng x·∫øp h·∫°ng v√† l·ªãch s·ª≠ thi ƒë·∫•u.</p>
        <p>ƒê·ªÉ th√™m ng∆∞·ªùi ch∆°i v√† ghi nh·∫≠n k·∫øt qu·∫£, vui l√≤ng ƒëƒÉng nh·∫≠p.</p>
      </div>

      <!-- Status message -->
      <div id="fileStatus" class="status-message"></div>
    </div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
